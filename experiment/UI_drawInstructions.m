function UI_drawInstructions(texttype, winMain, params)

% set button instructions
if strcmp(params.button2use, 'space')
    buttontext = 'space';
elseif strcmp(params.button2use, '1!')
    buttontext = '1';
end

switch texttype
    case 'retinotopy_instructions'
        textstring=['Please keep your gaze on the centre of the screen at all times.'...
            '\n\nYou will first see a dot in the centre of the screen. Keep your eyes on this dot at all times.'...
            '\n\nThe screen will then turn grey. Please ignore the flickering and focus on the centre dot.'...
            '\n\nWhenever you see the dot change color between red and blue, press any key.'...
            '\n\nThis task will last 60 seconds. Please try to keep your eyes open as much as possible.'...
            '\n\nIf all is clear to you, press any key to begin.'];
    case 'maintask_instructions_shade'
        textstring=['\n\nIn each trial, you will first see a dot in the centre of the screen. Keep your eyes on this dot at all times.'...
            '\n\nThe blue image will then fill the screen. Keep your gaze on the centre dot at all times.' ...
            '\n\nAt first, the centre and periphery will be different shades of blue.' ...
            '\n\nAfter a while, you may notice that the two shades merge together' ...
            '\n\n        and the entire screen will appear uniform.' ...
            '\n\nWhen this happens, press ', buttontext, '.' ...
            '\n\nRemember, do not move your gaze away from the centre dot at any time.' ...
            '\n\nIf all is clear to you, press any key to continue.'];
    case 'maintask_instructions_color'
        textstring=['\n\nIn each trial, you will first see a dot in the centre of the screen. Keep your eyes on this dot at all times.'...
            '\n\nThe coloured image will then fill the screen. Keep your gaze on the centre dot at all times.' ...
            '\n\nAt first, the centre and periphery will be different colours.' ...
            '\n\nAfter a while, you may notice that the two colours merge together' ...
            '\n\n        and the entire screen will appear uniform.' ...
            '\n\nWhen this happens, press ', buttontext, '.' ...
            '\n\nRemember, do not move your gaze away from the centre dot at any time.' ...
            '\n\nIf all is clear to you, press any key to continue.'];
    case 'blockstart'
        textstring = ['The next block is about to begin. When you are ready, press ', buttontext, ' to start.'];
    case 'trialstart'
        textstring = ['Press ', buttontext, ' to begin the next trial.'];
    case 'blockrest'
        textstring = ['This block is over'...
            '\n\nYou can rest for a minute.' ...
            '\n\nPress ', buttontext, ' to continue.'];
    case 'experiment_end'
        textstring = ['The experiment is over!'...
            '\n\nThank you for your participation.'];
    case 'bad_fix'
        textstring = ['Please remember to keep your eyes on the center dot,'...
            '\n\n during the entire trial.'...
            '\n\n\nThe trial will now restart.'];
            %'\n\nand to not blink during the trial.'... % allow blinking actually
end

if params.rapidTag
    for quad = 1:4
        %DrawFormattedText(winMain, textstring, params.xstart_pos+params.quadshifts(1, quad), 'center', params.colForeground, params.wrep,[],[],1.5,[],params.quadrants.rect(quad, :));
        DrawFormattedText(winMain, textstring, 'center', 'center', params.colForeground, params.wrep,[],[],1.5,[],params.quadrants.rect(quad, :));
    end
else
    %DrawFormattedText(winMain, textstring, params.xstart_pos, 'center', params.colForeground, params.wrep,[],[],1.5,[]);
    DrawFormattedText(winMain, textstring, 'center', 'center', params.colForeground, params.wrep,[],[],1.5,[]);
end